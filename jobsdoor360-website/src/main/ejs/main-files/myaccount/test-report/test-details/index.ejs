<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Test Details</title>
    <link
      rel="stylesheet"
      href="/staticfiles/mainfiles/myaccount/test-report/style.css"
    />
    <link
      rel="stylesheet"
      href="/staticfiles/mainfiles/myaccount/test-report/test-details.css"
    />
    <%- include('../../../../partials/head.ejs') %>
  </head>
  <body>
    <%- include('../../../../partials/navbar.ejs') %>

    <div class="container">
      <a href="/myaccount/test-report/" class="back-btn"> ← Back to Reports </a>

      <!-- Loading State -->
      <div id="loading" class="loading">
        <div class="loading-spinner"></div>
        <h3>Loading Your Test Details</h3>
        <p>Please wait while we fetch your assessment results...</p>
      </div>

      <!-- Error State -->
      <div id="error" class="error" style="display: none">
        <h3>Something went wrong</h3>
        <p id="error-message"></p>
      </div>

      <!-- ✅ Added missing #content wrapper -->
      <div id="content" style="display: none">
        <!-- Test Summary Section -->
        <div id="test-info" class="info-card fade-in">
          <h2>Test Summary</h2>
          <div class="info-grid">
            <div class="info-item">
              <div class="info-label">Test Name</div>
              <div class="info-value" id="test-name">-</div>
            </div>
            <div class="info-item">
              <div class="info-label">Date Taken</div>
              <div class="info-value" id="test-date">-</div>
            </div>
            <div class="info-item">
              <div class="info-label">Total Questions</div>
              <div class="info-value" id="total-questions">-</div>
            </div>

            <div class="info-item">
              <div class="info-label">Time Spent</div>
              <div class="info-value" id="time-spent">-</div>
            </div>
            <div class="info-item">
              <div class="info-label">Correct Answers</div>
              <div class="info-value" id="correct-answers">-</div>
            </div>
            <div class="info-item">
              <div class="info-label">Your Score</div>
              <div id="score-container">
                <span id="score-badge" class="score-badge">-</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Question Breakdown Section -->
        <h3 class="section-title" id="questions-title">Question Breakdown</h3>
        <div id="questions-container"></div>
      </div>
      <!-- ✅ End of #content -->
    </div>

    <%- include('../../../../partials/footer.ejs') %>

    <script
      type="module"
      src="/staticfiles/mainfiles/myaccount/test-report/test-details.js"
    ></script>
  </body>
</html>
