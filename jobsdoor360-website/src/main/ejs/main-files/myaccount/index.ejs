<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
      Software Development Training - Web development, FullStack, Backend, Java,
      Reactjs
    </title>
    <meta
      name="description"
      content="Unlock Your Career Potential with JobsDoor360: Expert Development Programs & Job Opportunities. Learn Full Stack, Java, and Web Development. Advance Your Career with Industry Professionals. Gain In-Demand Skills for Software Jobs. Practice Interviews and Perfect Your CV. Join Now for a Spring Demo!"
    />
    <link rel="stylesheet" href="/staticfiles/mainfiles/myaccount/style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">    <style>
       body {
  background-color: #f8f9fa;
}

.container {
  max-width: 600px;
  margin: 0 auto; /* Center the card */
  padding: 20px 15px;
}

.card-section {
  background: white;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
}

.profile-img {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  object-fit: cover;
}

.toggle-label {
  font-size: 0.9rem;
  color: #666;
}

.progress-bar-custom {
  background-color: #28a745 !important;
  transition: none; /* We'll control transitions with JavaScript */
  height: 100%;
  width: 0%; /* Start at zero */
}

.toggle-label {
  font-size: 1rem;
  color: #666;
}

.progress {
  height: 6px;
  background-color: #e9ecef;
  margin-bottom: 5px;
}

.btn-view-cv {
  padding: 3px 10px;
  border-radius: 4px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
  transition: all 0.3s ease;
  background-color: rgba(40, 167, 69, 0.08);
}

.btn-view-cv:hover {
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  transform: translateY(-1px);
}

.btn-arrow {
  padding: 5px;
  border-radius: 50%;
  transition: all 0.3s ease;
  color: #6c757d;
}

.btn-arrow:hover {
  background-color: rgba(108, 117, 125, 0.1);
  color: #28a745;
  transform: translateX(2px);
}

/* Mobile Optimization */
@media (max-width: 576px) {
  .profile-img {
    width: 50px;
    height: 50px;
  }

  .card-section {
    padding: 16px;
  }
}

@media (max-width: 360px) {
  .d-flex.justify-content-between {
    flex-direction: column;
    align-items: flex-start;
  }
}
      .card-style {
        border-radius: 1rem;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
      }
      .progress-bar {
        transition: width 0.4s ease;
      }
      .toggle-label {
        font-weight: 500;
        color: #4b5563;
      }
    </style>
    
    <%- include('../../partials/head.ejs') %>
  </head>

  <body>
    <!-- Navbar -->
    <%- include('../../partials/navbar.ejs') %>

    <div class="container mt-1">
      <div class="card-section">
        <div class="bg-white px-3 py-3 d-flex align-items-center justify-content-between ">
          <i class="bi bi-arrow-left-short fs-3 text-dark"></i>
          <h5 class="mb-0">My Account</h5>
          <span style="width: 24px;"></span> <!-- Spacer to balance arrow icon -->
        </div>        <!-- Profile -->
        <div class="d-flex align-items-center mb-4">
          <img src="https://cdn-icons-png.flaticon.com/512/266/266033.png" alt="Profile" class="profile-img me-3" />
          <div>
            <h5 class="mb-0" id="userName"></h5>
          </div>
        </div>
    
        <!-- Personal Profile -->
        <a href="personalprofile/" class="text-decoration-none text-dark">
          <div class="mb-3">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <i class="bi bi-person-circle me-2"></i>Personal Profile
              </div>
              <div class="d-flex align-items-center gap-2">
                <span class="text-success" id="text-1">0%</span>
                <i class="bi bi-chevron-right text-muted"></i>
              </div>
            </div>            <div class="progress mt-1">
              <div class="progress-bar progress-bar-custom" id="progress-1" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>
          </div>
        </a>
    
        <!-- Job Profile -->
        <a href="/myaccount/jobprofile/" class="text-decoration-none text-dark">
          <div class="mb-3">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <i class="bi bi-briefcase-fill me-2"></i>Job Profile
              </div>
              <div class="d-flex align-items-center gap-2">
                <span class="text-success" id="text-2">0%</span>
                <i class="bi bi-chevron-right text-muted"></i>
              </div>
            </div>            <div class="progress mt-1">
              <div class="progress-bar progress-bar-custom" id="progress-2" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>
          </div>
        </a>
    
        <!-- Assessment Progress -->
        <a href="/myaccount/test-report/" class="text-decoration-none text-dark">
          <div class="mb-3">
            <div class="d-flex justify-content-between align-items-center">
              <div>
                <i class="bi bi-clipboard-check me-2"></i>Assessment Completed
              </div>
              <div class="d-flex align-items-center gap-2">
                <span class="text-success" id="text-3">0%</span>
                <i class="bi bi-chevron-right text-muted"></i>
              </div>
            </div>            <div class="progress mt-1">
              <div class="progress-bar progress-bar-custom" id="progress-3" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>
            <p id="progress-count" class="text-muted small mt-1">0/0</p>
          </div>
        </a>        <!-- Updating CV -->
        <div class="mb-4 d-flex align-items-center justify-content-between">
          <span><i class="bi bi-file-earmark-arrow-up me-2"></i>Updating CV</span>
          <div class="d-flex align-items-center">
            <a href="#" id="view_cv" class="text-decoration-none text-success me-2 btn-view-cv">View</a>
            <a href="/myaccount/cv_upload/" class="text-decoration-none">
              <i class="bi bi-chevron-right btn-arrow"></i>
            </a>
          </div>
        </div>        <!-- Explore Jobs -->
        <div class="mb-4 d-flex align-items-center justify-content-between">
          <span><i class="bi bi-search me-2"></i>Explore Jobs</span>
          <a href="/myaccount/jobsforyou/" class="text-decoration-none">
            <i class="bi bi-chevron-right btn-arrow"></i>
          </a>
        </div>
    
        <!-- Switches -->
        <!-- Looking for Internship -->          <div class="d-flex justify-content-between align-items-center py-1">
    <label class="form-check-label toggle-label mb-0" for="internSwitch">Looking for Internship</label>
    <div class="form-check form-switch m-0">
      <input class="form-check-input" type="checkbox" role="switch" id="internSwitch" value="internship" onchange="updateSelection(this)" />
    </div>
  </div>
  
  <!-- Looking for Job -->
  <div class="d-flex justify-content-between align-items-center py-1">
    <label class="form-check-label toggle-label mb-0" for="jobSwitch">Looking for Job</label>
    <div class="form-check form-switch m-0">
      <input class="form-check-input" type="checkbox" role="switch" id="jobSwitch" value="job" onchange="updateSelection(this)" />
    </div>
  </div>      </div>
    </div>
      <br><br>    <!-- Footer -->
    <%- include('../../partials/footer.ejs') %>    <!-- Import scripts -->
    <script type="module" src="/staticfiles/mainfiles/myaccount/script.js"></script>    <script src="/staticfiles/mainfiles/myaccount/progress.js"></script>
    <script src="/staticfiles/mainfiles/myaccount/data-connector.js"></script>
    <script type="module" src="/staticfiles/mainfiles/myaccount/script.js"></script>
    <!-- Bridge script to ensure progress bars update when user data is available -->
    <script>
      // This script helps bridge between authentication system and progress bars
      document.addEventListener('DOMContentLoaded', function() {
        // If userData is set by the main script, update our progress bars
        if (window.userData) {
          console.log("User data already available, updating progress bars");
          if (window.setUserData) {
            window.setUserData(window.userData);
          }
        }
        
        // Create a MutationObserver to watch for changes to the user's name
        // This is a backup method to detect when user data might be available
        const userNameObserver = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            if (mutation.target.id === "userName1" && window.userData) {
              console.log("User name updated, syncing progress bars");
              if (window.setUserData) {
                window.setUserData(window.userData);
              }
              // Only need to react once
              userNameObserver.disconnect();
            }
          });
        });
        
        // Start observing the document for user name changes
        const userName1Element = document.getElementById("userName1");
        if (userName1Element) {
          userNameObserver.observe(userName1Element, { 
            characterData: true,
            childList: true,
            subtree: true
          });
        }
        
        // Add a debug button (only in development)
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1' ||
            window.location.search.includes('debug=true')) {
          const debugBtn = document.createElement('button');
          debugBtn.textContent = 'Debug Progress';
          debugBtn.style.position = 'fixed';
          debugBtn.style.bottom = '10px';
          debugBtn.style.right = '10px';
          debugBtn.style.zIndex = '9999';
          debugBtn.style.padding = '5px 10px';
          debugBtn.style.backgroundColor = '#28a745';
          debugBtn.style.color = 'white';
          debugBtn.style.border = 'none';
          debugBtn.style.borderRadius = '4px';
          debugBtn.style.cursor = 'pointer';
          debugBtn.onclick = function() {
            if (window.showProgressDebug) {
              window.showProgressDebug();
            }
          };
          document.body.appendChild(debugBtn);
        }
      });
    </script>
  </div>

 
      
    
    
    <!-- <div class="d-flex justify-content-center mt-4 myaccount_option">
      <a href="/myaccount/test-report/" class="text-decoration-none px-4 bg-white py-1 rounded-4">Test Report</a>
    </div>
    
    <div class="d-flex justify-content-center mt-4 myaccount_option">
      <a href="/myaccount/cv_upload/" class="text-decoration-none px-4 bg-white py-1 rounded-4">Update CV</a>
    </div>
    
    <div class="d-flex justify-content-center mt-4 myaccount_option">
      <a href="/myaccount/personalprofile/" class="text-decoration-none px-4 bg-white py-1 rounded-4" style="text-align: center;">Personal profile
      </a>
    </div>
    <div class="d-flex justify-content-center mt-4 myaccount_option">
      <a href="/myaccount/jobprofile/" class="text-decoration-none px-4 bg-white py-1 rounded-4" style="text-align: center;">Job profile
      </a>
  
    <div style="color: grey; text-align: center; margin-top: 20px;">Complete profile to get jobs</div>


    <div style="color: grey; text-align: center; margin-top: 20px;">Complete profile to get jobs</div>

    <div class="d-flex justify-content-center mt-4 myaccount_option">
      <a href="/myaccount/jobsforyou/" class="text-decoration-none px-4 bg-white py-1 rounded-4">Jobs for you</a>
    </div> -->    <script>
      $(document).ready(function () {
        $(document).on("click", function (event) {
          if (!$(event.target).closest(".accordion").length) {
            $(".accordion-collapse").collapse("hide");
          }
        });

        $(".accordion").on("click", function (event) {
          event.stopPropagation();
        });
      });
    </script>
    
    <!-- jobsdoor360 -->
    <ins
      class="adsbygoogle"
      style="display: block"
      data-ad-client="ca-pub-2075086355753452"
      data-ad-slot="7339269701"
      data-ad-format="auto"
      data-full-width-responsive="true"
    ></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </body>
</html>